(this.webpackJsonpreact=this.webpackJsonpreact||[]).push([[4],{228:function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"a",(function(){return n}));var r=function(e){if(!e)return"Field is reqiared"},n=function(e){return function(t){return t&&t.length>e?"Must be ".concat(e," characters or less"):void 0}}},229:function(e,t,a){"use strict";a.d(t,"b",(function(){return u})),a.d(t,"a",(function(){return i}));var r=a(238),n=a(0),o=a.n(n),s=(a(230),a(233)),u=function(e){var t=e.input,a=e.meta,n=a.touched,u=a.error,i=(a.warning,e.placeholder),c=Object(r.a)(e,["input","meta","placeholder"]),l=n&&u,p=s({"form-control":!0,"send-message":!0,errorTextarea:l,borderColor:!l});return o.a.createElement("textarea",Object.assign({className:p,placeholder:i},t,c))},i=function(e){var t=e.input,a=e.meta,n=a.touched,u=a.error,i=(a.warning,e.placeholder),c=Object(r.a)(e,["input","meta","placeholder"]),l=n&&u,p=s({"form-control":!0,errorTextarea:l,borderColor:!l});return o.a.createElement("input",Object.assign({className:p,placeholder:i},t,c))}},230:function(e,t,a){},231:function(e,t,a){"use strict";a.d(t,"a",(function(){return m})),a.d(t,"b",(function(){return h}));var r=a(51),n=a(52),o=a(53),s=a(54),u=a(19),i=a(0),c=a.n(i),l=a(31),p=a(27),f=a(50),m=function(e){var t=function(t){Object(s.a)(i,t);var a=Object(o.a)(i);function i(){return Object(r.a)(this,i),a.apply(this,arguments)}return Object(n.a)(i,[{key:"render",value:function(){return this.props.isAuth?c.a.createElement(e,this.props):c.a.createElement(u.a,{to:"/login"})}}]),i}(c.a.Component);return Object(l.b)((function(e){return{isAuth:e.auth.isAuth}}))(t)},h=function(e){var t=function(t){Object(s.a)(u,t);var a=Object(o.a)(u);function u(){return Object(r.a)(this,u),a.apply(this,arguments)}return Object(n.a)(u,[{key:"componentDidMount",value:function(){this.props.authThunkCreator()}},{key:"render",value:function(){return null===this.props.isAuth?c.a.createElement(f.a,null):c.a.createElement(e,this.props)}}]),u}(c.a.Component);return Object(l.b)((function(e){return{isAuth:e.auth.isAuth}}),{authThunkCreator:p.b})(t)}},253:function(e,t,a){},254:function(e,t,a){},255:function(e,t,a){},296:function(e,t,a){},304:function(e,t,a){"use strict";a.r(t);var r=a(51),n=a(52),o=a(53),s=a(54),u=a(0),i=a.n(u),c=(a(15),a(31)),l=a(19),p=a(23),f=(a(253),a(24)),m=a(105),h=a(106),d=a(228),b=a(229);a(254),a(255);function v(e){return i.a.createElement("div",{className:"post"},i.a.createElement("img",{src:"https://avatars.yandex.net/get-music-user-playlist/27701/265236767.1000.16809/m1000x1000?1498108273588&webp=false"}),i.a.createElement("span",null,e.message))}var E=Object(d.a)(30);var g=Object(h.a)({form:"addPost"})((function(e){return i.a.createElement("form",{className:"form-group textarea",onSubmit:e.handleSubmit},i.a.createElement(m.a,{component:b.b,name:"newPostText",placeholder:"What's new?",rows:"3",validate:[d.b,E]}),i.a.createElement("div",null,i.a.createElement("button",{className:"btn btn-primary textarea-send"},"Add")))})),O=a(56),j=Object(c.b)((function(e){return{profilePage:e.profilePage}}),{addPost:O.a})((function(e){return i.a.createElement("div",{className:"profile_posts"},i.a.createElement(g,{onSubmit:function(t){e.addPost(t.newPostText)}}),i.a.createElement("div",{className:"profile_posts-items"},Object(f.a)(e.profilePage.posts).reverse().map((function(e){return i.a.createElement(v,{key:e.id,message:e.message})}))))})),y=a(50);a(296);var k=a(71);function P(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var a=[],r=!0,n=!1,o=void 0;try{for(var s,u=e[Symbol.iterator]();!(r=(s=u.next()).done)&&(a.push(s.value),!t||a.length!==t);r=!0);}catch(i){n=!0,o=i}finally{try{r||null==u.return||u.return()}finally{if(n)throw o}}return a}}(e,t)||Object(k.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var S=function(e){var t=P(Object(u.useState)(!1),2),a=t[0],r=t[1],n=P(Object(u.useState)(e.status),2),o=n[0],s=n[1];return Object(u.useEffect)((function(){s(e.status)}),[e.status]),i.a.createElement("div",null,a?i.a.createElement("div",null,i.a.createElement("input",{onChange:function(e){s(e.currentTarget.value)},autoFocus:!0,onBlur:function(){r(!1),e.updateUserStatus(o)},value:o})):i.a.createElement("div",{onDoubleClick:function(){r(!0)}},e.status||"No status"))};function C(e){if(!e.profile)return i.a.createElement(y.a,null);var t=e.profile.photos.large?e.profile.photos.large:"https://avatars.mds.yandex.net/get-pdb/1732371/78b3b128-3813-4d35-8b87-b3c911581ca0/s1200?webp=false";return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"profile_info"},i.a.createElement("img",{src:t,className:"profile_info-avatar"}),i.a.createElement("div",{className:"profile_information"},i.a.createElement("span",{className:"profile_info-name"},e.profile.fullName),i.a.createElement(S,{status:e.status,updateUserStatus:e.updateUserStatus}),i.a.createElement("span",null,e.profile.aboutMe),i.a.createElement("span",null,e.profile.lookingForAJob),i.a.createElement("span",null,e.profile.lookingForAJobDescription))),e.isOwner&&i.a.createElement("div",{className:"profile_info-addPhoto"},"Update avatar ",i.a.createElement("input",{type:"file",onChange:function(t){t.target.value.length&&e.savePhoto(t.target.files[0])}})))}function w(e){return i.a.createElement("div",{className:"profile-content"},i.a.createElement(C,{profile:e.profile,status:e.status,isOwner:e.isOwner,updateUserStatus:e.updateUserStatus,savePhoto:e.savePhoto}),i.a.createElement("div",{className:"profile_posts"},i.a.createElement(j,null)))}var N=a(231),T=function(e){Object(s.a)(a,e);var t=Object(o.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(n.a)(a,[{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,a){this.props.match.params.userId!=e.match.params.userId&&this.refreshProfile()}},{key:"refreshProfile",value:function(){var e=this.props.match.params.userId?this.props.match.params.userId:this.props.logUserId;this.props.getUserThunkCreator(e),this.props.getUserStatusThunkCreator(e)}},{key:"render",value:function(){return i.a.createElement(i.a.Fragment,null,this.props.profile?i.a.createElement(w,Object.assign({},this.props,{profile:this.props.profile,status:this.props.status,isOwner:!this.props.match.params.userId,savePhoto:this.props.savePhotoThunkCreator,updateUserStatus:this.props.updateUserStatusThunkCreator})):i.a.createElement(y.a,null))}}]),a}(u.Component);t.default=Object(p.d)(Object(c.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,logUserId:e.auth.userId,isAuth:e.auth.isAuth}}),{getUserThunkCreator:O.c,getUserStatusThunkCreator:O.b,updateUserStatusThunkCreator:O.f,savePhotoThunkCreator:O.e}),l.g,N.b,N.a)(T)}}]);
//# sourceMappingURL=4.977f5a95.chunk.js.map