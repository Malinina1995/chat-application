{"version":3,"sources":["Components/HeaderComponent/Header.js","Components/HeaderComponent/HeaderContainer.js","Components/NavComponent/Nav.js","Components/NewsComponent/News.js","Components/MusicComponent/Music.js","Components/SettingsComponent/Settings.js","hoc/withSuspanse.js","Components/AppComponent/App.js","redux-store.js","index.js","reducers/authReducer.js","Components/PreloaderComponent/Preloader.js","reducers/profileReducer.js","api/api.js","reducers/dialogsReducer.js","reducers/usersReducer.js"],"names":["Header","props","className","to","isAuth","login","type","onClick","logoutThunkCreator","Container","this","authThunkCreator","Component","HeaderContainer","connect","state","auth","Nav","activeClassName","News","Music","Settings","withSuspense","fallback","Preloader","ProfileContainer","lazy","DialogsContainer","UsersContainer","LoginContainer","App","path","render","component","from","reducers","combineReducers","profilePage","profileReducer","dialogsPage","dialogsReducer","friendsPage","usersReducer","authReducer","form","formReducer","store","createStore","applyMiddleware","thunkMiddleware","document","getElementById","initialState","userId","email","captchaURL","action","data","captchaUrl","setUserDataActionCreator","captcha","dispatch","a","authAPI","getAuth","res","resultCode","id","loginThunkCreator","password","rememberMe","getCaptchaURLThunkCreator","stopSubmit","_error","messages","logout","securityAPI","getCaptchaURL","url","src","alt","ADD_POST","posts","message","profile","status","text","trim","length","photos","file","addPostActionCreator","getUserStatusActionCreator","savePhotoActionCreator","getUserThunkCreator","profileAPI","getProfile","getUserStatusThunkCreator","getStatus","updateUserStatusThunkCreator","updateStatus","savePhotoThunkCreator","savePhoto","saveDataThunkCreator","getState","saveProfile","Promise","reject","instance","axios","withCredentials","baseURL","headers","usersAPI","getUsers","pageSize","currentPage","get","then","followUsers","post","unfollowUsers","delete","put","formData","FormData","append","dialogs","name","newText","addMessageActionCreator","users","totalUsersCount","isFetching","followInProgress","map","user","followed","filter","followActionCreator","unfollowActionCreator","setCurrentPageActionCreator","toggleIsFetchingActionCreator","followingInProgressActionCreator","items","totalCount","followUnfollowMethod","apiMethod","actionCreator","followUserThunkCreator","bind","unfollowUserThunkCreator"],"mappings":"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","file":"static/js/main.5db21891.chunk.js","sourcesContent":["import React  from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport \"./Header.css\";\r\n\r\nexport function Header(props) {\r\n  return (\r\n    <div className=\"header d-flex flex-column flex-md-row align-items-center p-3 px-md-4 bg-white border-bottom shadow-sm\">\r\n      <h5 className=\"my-0 mr-md-auto font-weight-normal\">\r\n        <Link to=\"/\">IT-community</Link>\r\n      </h5>\r\n      {props.isAuth ? (\r\n        <div>\r\n          <span className=\"login-name\">{props.login}</span>\r\n          <button type=\"button\" className=\"btn btn-outline-primary\" onClick={props.logoutThunkCreator}>\r\n            Logout\r\n          </button>\r\n        </div>\r\n      ) : (\r\n        <Link className=\"btn btn-outline-primary\" to={\"/login\"}>\r\n          Sign up\r\n        </Link>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React, { Component } from 'react';\nimport { Header } from './Header';\nimport { connect } from 'react-redux';\n\nimport { authThunkCreator, logoutThunkCreator } from '../../reducers/authReducer';\n\nclass Container extends Component {\n  componentDidMount() {\n    this.props.authThunkCreator();\n  }\n\n  render() {\n    return <Header {...this.props} />;\n  }\n}\n\nconst mapStateToProps = state => ({\n  isAuth: state.auth.isAuth,\n  login: state.auth.login\n});\n\nexport let HeaderContainer = connect(mapStateToProps, {authThunkCreator, logoutThunkCreator})(Container);\n","import React  from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nimport \"./Nav.css\";\r\n\r\nexport function Nav() {\r\n    return (\r\n        <nav className=\"col-md-2 d-none d-md-block bg-light sidebar\">\r\n        <div className=\"sidebar-sticky\">\r\n          <ul className=\"nav flex-column\">\r\n            <li className=\"nav-item\">\r\n              <NavLink to=\"/profile\" className=\"nav-link\" activeClassName='is-active'>\r\n                Profile\r\n              </NavLink>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n              <NavLink to=\"/dialogs\" className=\"nav-link\" activeClassName='is-active'>\r\n                Message\r\n              </NavLink>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n              <NavLink to=\"news\" className=\"nav-link\" activeClassName='is-active'>\r\n                News\r\n              </NavLink>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n              <NavLink to=\"/music\" className=\"nav-link\" activeClassName='is-active'>\r\n                Music\r\n              </NavLink>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n              <NavLink to=\"/users\" className=\"nav-link\" activeClassName='is-active'>\r\n                Users\r\n              </NavLink>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n              <NavLink to=\"/settings\" className=\"nav-link\" activeClassName='is-active'>\r\n                Settings\r\n              </NavLink>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </nav>\r\n    );\r\n  \r\n}\r\n","import React  from \"react\";\r\n\r\nimport \"./News.css\";\r\n\r\nexport function News() {\r\n    return (\r\n        <div className='news-content'>\r\n          News work!\r\n        </div>\r\n    );\r\n  \r\n}\r\n","import React  from \"react\";\r\n\r\nimport \"./Music.css\";\r\n\r\nexport function Music() {\r\n    return (\r\n        <div className='music-content'>\r\n          Music work!\r\n        </div>\r\n    );\r\n  \r\n}\r\n","import React  from \"react\";\r\n\r\nimport \"./Settings.css\";\r\n\r\nexport function Settings() {\r\n    return (\r\n        <div className='settings-content'>\r\n          Settings work!\r\n        </div>\r\n    );\r\n  \r\n}\r\n","import React, { Suspense } from \"react\";\r\nimport { Preloader } from \"../Components/PreloaderComponent/Preloader\";\r\n\r\nexport const withSuspense = Component => {\r\n  return props => {\r\n    return <Suspense fallback={<Preloader />}>\r\n      <Component {...props} />\r\n    </Suspense>\r\n  };\r\n};\r\n","import React, {lazy} from \"react\";\r\nimport {\r\n    Switch,\r\n    Route,\r\n    Redirect, HashRouter\r\n} from \"react-router-dom\";\r\n\r\nimport {HeaderContainer} from \"../HeaderComponent/HeaderContainer\";\r\nimport {Nav} from \"../NavComponent/Nav\";\r\nimport {News} from \"../NewsComponent/News\";\r\nimport {Music} from \"../MusicComponent/Music\";\r\nimport {Settings} from \"../SettingsComponent/Settings\";\r\nimport {withSuspense} from \"../../hoc/withSuspanse\";\r\nimport \"./App.css\";\r\n\r\nconst ProfileContainer = lazy(() =>\r\n    import(\"../ProfileComponent/ProfileContainer\")\r\n);\r\nconst DialogsContainer = lazy(() =>\r\n    import(\"../DialogsComponent/DialogsContainer\")\r\n);\r\nconst UsersContainer = lazy(() => import(\"../UsersComponent/UsersContainer\"));\r\nconst LoginContainer = lazy(() => import(\"../LoginComponent/Login\"));\r\n\r\n\r\nexport function App(props) {\r\n    return (\r\n        <HashRouter>\r\n            <div className=\"app container\">\r\n                <HeaderContainer/>\r\n                <div className=\"content\">\r\n                    <Nav/>\r\n                    <div className=\"main-content\">\r\n                        <Switch>\r\n                            <Route\r\n                                path=\"/profile/:userId?\"\r\n                                render={withSuspense(ProfileContainer)}\r\n                            />\r\n                            <Route path=\"/dialogs\" render={withSuspense(DialogsContainer)}/>\r\n                            <Route path=\"/users\" render={withSuspense(UsersContainer)}/>\r\n                            <Route path=\"/news\" component={News}/>\r\n                            <Route path=\"/music\" component={Music}/>\r\n                            <Route path=\"/settings\" component={Settings}/>\r\n                            <Route path=\"/login\" render={withSuspense(LoginContainer)}/>\r\n                            <Redirect from='/' to='/profile'/>\r\n                        </Switch>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </HashRouter>);\r\n}\r\n","import { combineReducers, createStore, applyMiddleware } from \"redux\";\n\nimport { dialogsReducer } from \"./reducers/dialogsReducer\";\nimport { profileReducer } from \"./reducers/profileReducer\";\nimport { usersReducer } from \"./reducers/usersReducer\";\nimport { authReducer } from \"./reducers/authReducer\";\nimport thunkMiddleware from \"redux-thunk\";\nimport { reducer as formReducer } from 'redux-form';\n\nlet reducers = combineReducers({\n  profilePage: profileReducer,\n  dialogsPage: dialogsReducer,\n  friendsPage: usersReducer,\n  auth: authReducer,\n  form: formReducer\n});\n\nexport let store = createStore(reducers, applyMiddleware(thunkMiddleware));\n","import React  from \"react\";\nimport { render } from \"react-dom\";\nimport { Provider } from 'react-redux';\n\nimport \"./style.css\";\n\nimport { App } from \"./Components/AppComponent/App\";\nimport { store } from \"./redux-store\";\n\n\n  render(\n    <Provider store={store}>\n      <App/>\n    </Provider>,\n    document.getElementById(\"root\")\n  );\n\n","import { authAPI, securityAPI } from \"../api/api\";\nimport { stopSubmit } from \"redux-form\";\n\nconst SET_USER_DATA = \"auth/SET-USER-DATA\";\nconst GET_CAPTCHA_URL = \"auth/GET-CAPTCHA-URL\";\n\nlet initialState = {\n  userId: null,\n  email: null,\n  login: null,\n  isAuth: null,\n  captchaURL: null\n};\n\nexport let authReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case SET_USER_DATA:\n      return {\n        ...state,\n        ...action.data,\n        isAuth: !!(action.data.userId && action.data.email && action.data.login)\n      };\n    case GET_CAPTCHA_URL:\n      return {\n        ...state,\n        captchaURL: action.captchaUrl\n      };\n    default:\n      return state;\n  }\n};\n\nexport const setUserDataActionCreator = (userId, email, login, isAuth, captcha) => {\n  return {\n    type: SET_USER_DATA,\n    data: {\n      userId,\n      email,\n      login,\n      captcha\n    }\n  };\n};\n\nexport const getCaptchaUrlActionCreator = captchaUrl => {\n  return {\n    type: GET_CAPTCHA_URL,\n    captchaUrl\n  };\n};\n\nexport const authThunkCreator = () => {\n  return async dispatch => {\n    let res = await authAPI.getAuth();\n    if (res.resultCode === 0) {\n      let { id, email, login } = res.data;\n      dispatch(setUserDataActionCreator(id, email, login, true));\n    } else {\n      dispatch(setUserDataActionCreator(null, null, null, null));\n    }\n  };\n};\n\nexport const loginThunkCreator = (email, password, rememberMe, captcha) => {\n  return async dispatch => {\n    let res = await authAPI.login(email, password, rememberMe, captcha);\n    if (res.resultCode === 0) {\n      dispatch(authThunkCreator());\n    } else {\n      if(res.resultCode === 10){\n        dispatch(getCaptchaURLThunkCreator());\n      }\n      dispatch(stopSubmit(\"login\", { _error: res.messages }));\n    }\n  };\n};\n\nexport const logoutThunkCreator = (email, password, rememberMe) => {\n  return async dispatch => {\n    let res = await authAPI.logout();\n    if (res.resultCode === 0) {\n      dispatch(setUserDataActionCreator(null, null, null, false));\n    }\n  };\n};\n\nexport const getCaptchaURLThunkCreator = (email, password, rememberMe) => {\n  return async dispatch => {\n    let res = await securityAPI.getCaptchaURL();\n    dispatch(getCaptchaUrlActionCreator(res.url));\n  };\n};\n","import React from \"react\";\nimport \"./Preloader.css\";\n\nexport let Preloader = props => {\n  return (\n    <div className = \"preloader\">\n      <img src=\"https://youclever.org/book/website/youclever/template/images/loader.gif\" alt=''/>\n    </div>\n  );\n};\n","import { profileAPI } from \"../api/api\";\nimport { stopSubmit } from \"redux-form\";\n\nconst ADD_POST = \"profile/ADD-POST\";\nconst SET_USER_PROFILE = \"profile/SET-USER-PROFILE\";\nconst GET_USER_STATUS = \"profile/GET-USER-STATUS\";\nconst SET_USER_PHOTO = \"profile/SET-USER-PHOTO\";\n\nlet initialState = {\n  posts: [\n    { id: 1, message: \"Hey! How are you?\" },\n    { id: 2, message: \"Good!\" },\n    { id: 3, message: \"briliant!\" }\n  ],\n  profile: null,\n  status: \"\"\n};\n\nexport let profileReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case ADD_POST:\n      let text = action.text;\n      if (text.trim()) {\n        return {\n          ...state,\n          posts: [\n            ...state.posts,\n            {\n              id: state.posts.length + 1,\n              message: text.trim()\n            }\n          ]\n        };\n      }\n      return state;\n    case SET_USER_PROFILE:\n      return {\n        ...state,\n        profile: action.profile\n      };\n    case GET_USER_STATUS:\n      return {\n        ...state,\n        status: action.status\n      };\n    case SET_USER_PHOTO:\n      return {\n        ...state,\n        profile: {...state.profile, photos: action.file}\n      }\n    default:\n      return state;\n  }\n};\n\nexport const addPostActionCreator = text => {\n  return {\n    type: ADD_POST,\n    text\n  };\n};\n\nexport const setUserProfileActionCreator = profile => {\n  return {\n    type: SET_USER_PROFILE,\n    profile\n  };\n};\n\nexport const getUserStatusActionCreator = status => {\n  return {\n    type: GET_USER_STATUS,\n    status\n  };\n};\n\nexport const savePhotoActionCreator = file => {\n  return {\n    type: SET_USER_PHOTO,\n    file\n  };\n};\n\nexport const getUserThunkCreator = id => {\n  return async dispatch => {\n    try {\n      let res = await profileAPI.getProfile(id);\n      dispatch(setUserProfileActionCreator(res));\n    } catch (e) {\n\n    }\n  };\n};\n\nexport const getUserStatusThunkCreator = id => {\n  return async dispatch => {\n    let res = await profileAPI.getStatus(id);\n    dispatch(getUserStatusActionCreator(res));\n  };\n};\n\nexport const updateUserStatusThunkCreator = status => {\n  return async dispatch => {\n    let res = await profileAPI.updateStatus(status);\n    if (res.resultCode === 0) dispatch(getUserStatusActionCreator(status));\n  };\n};\n\nexport const savePhotoThunkCreator = file => {\n  return async dispatch => {\n    let res = await profileAPI.savePhoto(file);\n    if (res.resultCode === 0) dispatch(savePhotoActionCreator(res.data.photos));\n  };\n}\n\nexport const saveDataThunkCreator = data => {\n  return async (dispatch,getState) => {\n    let res = await profileAPI.saveProfile(data);\n    if (res.resultCode === 0) {\n      dispatch(getUserThunkCreator(getState().auth.userId));\n    } else {\n      dispatch(stopSubmit(\"edit-profile\", { _error: res.messages[0] }));\n      return Promise.reject(res.messages[0]);\n    };\n  };\n}\n","import * as axios from \"axios\";\n\nconst instance = axios.create({\n  withCredentials: true,\n  baseURL: \"https://test-api.mokeev1995.ru/api/1.0/\",\n  headers: {\n    \"API-KEY\": \"4531d9e2-5896-44a2-8434-2e6848972af0\"\n  }\n});\n\nexport const usersAPI = {\n  getUsers(pageSize, currentPage) {\n    return instance\n      .get(`users?count=${pageSize}&page=${currentPage}`)\n      .then(res => res.data);\n  },\n  followUsers(id) {\n    return instance.post(`follow/${id}`, {}).then(res => res.data);\n  },\n  unfollowUsers(id) {\n    return instance.delete(`follow/${id}`).then(res => res.data);\n  }\n};\n\nexport const profileAPI = {\n  getProfile(id) {\n    return instance.get(`profile/${id}`).then(res => res.data);\n  },\n  getStatus(id) {\n    return instance.get(`profile/status/${id}`).then(res => res.data);\n  },\n  updateStatus(status) {\n    return instance.put('profile/status', {status}).then(res => res.data);\n  },\n  savePhoto(file) {\n    const formData = new FormData();\n    formData.append('image', file);\n    return instance.put('profile/photo', formData, {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }\n    }).then(res => res.data);\n  },\n  saveProfile(data) {\n    return instance.put('profile', data).then(res => res.data);\n  }\n};\n\nexport const authAPI = {\n  getAuth(){\n    return instance.get(\"auth/me\").then(res => res.data);\n  },\n  login(email, password, rememberMe = false, captcha= null) {\n    return instance.post(`auth/login`, {email, password, rememberMe, captcha}).then(res => res.data);\n  },\n  logout() {\n    return instance.delete(`auth/login`).then(res => res.data);\n  }\n}\n\nexport const securityAPI = {\n  getCaptchaURL(){\n    return instance.get(\"security/get-captcha-url\").then(res => res.data);\n  }\n}\n\n","const ADD_MESSAGE = \"dialogs/ADD-MESSAGE\";\n\nlet initialState = {\n  dialogs: [\n    { id: 1, name: \"Vasya\" },\n    { id: 2, name: \"Tanya\" },\n    { id: 3, name: \"Sasha\" },\n    { id: 4, name: \"Masha\" },\n    { id: 5, name: \"Ann\" },\n    { id: 6, name: \"Alex\" }\n  ],\n  messages: [\n    { id: 1, message: \"Hey!\" },\n    { id: 2, message: \"No-no-no!\" },\n    { id: 3, message: \"Oh!\" },\n    { id: 4, message: \"Go away!\" }\n  ]\n};\n\nexport let dialogsReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case ADD_MESSAGE:\n      let text = action.newText;\n      if (text.trim()) {\n        return {\n          ...state,\n          messages: [\n            ...state.messages,\n            {\n              id: state.messages.length + 1,\n              message: text.trim()\n            }\n          ]\n        };\n      }\n      return state;\n    default:\n      return state;\n  }\n};\n\nexport const addMessageActionCreator = text => {\n  return {\n    type: ADD_MESSAGE,\n    newText: text\n  };\n};\n","import { usersAPI } from \"../api/api\";\r\n\r\nconst FOLLOW = \"user/FOLLOW\";\r\nconst UNFOLLOW = \"user/UNFOLLOW\";\r\nconst SET_USERS = \"user/SET-USERS\";\r\nconst SET_CURRENT_PAGE = \"user/SET-CURRENT-PAGE\";\r\nconst SET_TOTAL_USER_COUNT = \"user/SET-TOTAL-USER-COUNT\";\r\nconst TOGGE_IS_FETCHING = \"user/TOGGE-IS-FETCHING\";\r\nconst TOGGE_IS_FOLLOWING_PROGRESS = \"user/TOGGE-IS-FOLLOWING-PROGRESS\";\r\n\r\nlet initialState = {\r\n  users: [],\r\n  pageSize: 10,\r\n  totalUsersCount: 0,\r\n  currentPage: 1,\r\n  isFetching: true,\r\n  followInProgress: []\r\n};\r\n\r\nexport let usersReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case FOLLOW:\r\n      return {\r\n        ...state,\r\n        users: state.users.map(user => {\r\n          if (user.id === action.userId) {\r\n            return { ...user, followed: true };\r\n          }\r\n          return user;\r\n        })\r\n      };\r\n    case UNFOLLOW:\r\n      return {\r\n        ...state,\r\n        users: state.users.map(user => {\r\n          if (user.id === action.userId) {\r\n            return { ...user, followed: false };\r\n          }\r\n          return user;\r\n        })\r\n      };\r\n    case SET_USERS:\r\n      return {\r\n        ...state,\r\n        users: action.users\r\n      };\r\n\r\n    case SET_CURRENT_PAGE:\r\n      return {\r\n        ...state,\r\n        currentPage: action.currentPage\r\n      };\r\n    case SET_TOTAL_USER_COUNT:\r\n      return {\r\n        ...state,\r\n        totalUsersCount: action.totalUsersCount\r\n      };\r\n    case TOGGE_IS_FETCHING:\r\n      return {\r\n        ...state,\r\n        isFetching: action.isFetching\r\n      };\r\n    case TOGGE_IS_FOLLOWING_PROGRESS:\r\n      return {\r\n        ...state,\r\n        followInProgress: action.isFetching\r\n          ? [...state.followInProgress, action.userId]\r\n          : state.followInProgress.filter(id => id !== action.userId)\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const followActionCreator = userId => {\r\n  return {\r\n    type: FOLLOW,\r\n    userId\r\n  };\r\n};\r\n\r\nexport const unfollowActionCreator = userId => {\r\n  return {\r\n    type: UNFOLLOW,\r\n    userId\r\n  };\r\n};\r\n\r\nexport const setUsersActionCreator = users => {\r\n  return {\r\n    type: SET_USERS,\r\n    users\r\n  };\r\n};\r\n\r\nexport const setCurrentPageActionCreator = currentPage => {\r\n  return {\r\n    type: SET_CURRENT_PAGE,\r\n    currentPage\r\n  };\r\n};\r\n\r\nexport const setTotalUserCountActionCreator = totalUsersCount => {\r\n  return {\r\n    type: SET_TOTAL_USER_COUNT,\r\n    totalUsersCount\r\n  };\r\n};\r\n\r\nexport const toggleIsFetchingActionCreator = isFetching => {\r\n  return {\r\n    type: TOGGE_IS_FETCHING,\r\n    isFetching\r\n  };\r\n};\r\n\r\nexport const followingInProgressActionCreator = (isFetching, userId) => {\r\n  return {\r\n    type: TOGGE_IS_FOLLOWING_PROGRESS,\r\n    isFetching,\r\n    userId\r\n  };\r\n};\r\n\r\nexport const getUserThunkCreator = (pageSize, currentPage) => {\r\n  return async dispatch => {\r\n    dispatch(toggleIsFetchingActionCreator(true));\r\n\r\n    let res = await usersAPI.getUsers(pageSize, currentPage);\r\n    dispatch(toggleIsFetchingActionCreator(false));\r\n    dispatch(setUsersActionCreator(res.items));\r\n    dispatch(setTotalUserCountActionCreator(res.totalCount));\r\n    dispatch(setCurrentPageActionCreator(currentPage));\r\n  };\r\n};\r\n\r\nconst followUnfollowMethod = async (dispatch, id, apiMethod, actionCreator) => {\r\n    dispatch(followingInProgressActionCreator(true, id));\r\n    let res = await apiMethod(id);\r\n    if (res.resultCode === 0) {\r\n      dispatch(actionCreator(id));\r\n    }\r\n    dispatch(followingInProgressActionCreator(false, id));\r\n}\r\n\r\nexport const followUserThunkCreator = id => {\r\n  return async dispatch => {\r\n    followUnfollowMethod(dispatch, id, usersAPI.followUsers.bind(usersAPI), followActionCreator);\r\n  };\r\n};\r\n\r\nexport const unfollowUserThunkCreator = id => {\r\n  return async dispatch => {\r\n    followUnfollowMethod(dispatch, id, usersAPI.unfollowUsers.bind(usersAPI), unfollowActionCreator);\r\n  };\r\n};\r\n"],"sourceRoot":""}