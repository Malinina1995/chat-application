(this.webpackJsonpreact=this.webpackJsonpreact||[]).push([[7],{231:function(e,t,r){"use strict";r.d(t,"a",(function(){return h})),r.d(t,"b",(function(){return g}));var n=r(51),a=r(52),o=r(53),s=r(54),u=r(19),i=r(0),l=r.n(i),c=r(31),p=r(27),f=r(50),h=function(e){var t=function(t){Object(s.a)(i,t);var r=Object(o.a)(i);function i(){return Object(n.a)(this,i),r.apply(this,arguments)}return Object(a.a)(i,[{key:"render",value:function(){return this.props.isAuth?l.a.createElement(e,this.props):l.a.createElement(u.a,{to:"/login"})}}]),i}(l.a.Component);return Object(c.b)((function(e){return{isAuth:e.auth.isAuth}}))(t)},g=function(e){var t=function(t){Object(s.a)(u,t);var r=Object(o.a)(u);function u(){return Object(n.a)(this,u),r.apply(this,arguments)}return Object(a.a)(u,[{key:"componentDidMount",value:function(){this.props.authThunkCreator()}},{key:"render",value:function(){return null===this.props.isAuth?l.a.createElement(f.a,null):l.a.createElement(e,this.props)}}]),u}(l.a.Component);return Object(c.b)((function(e){return{isAuth:e.auth.isAuth}}),{authThunkCreator:p.b})(t)}},252:function(e,t,r){},300:function(e,t,r){var n;e.exports=(n=r(0),function(e){function t(n){if(r[n])return r[n].exports;var a=r[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var r={};return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,r){e.exports=r(1)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2);t.default=n.a},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var o=r(3),s=r.n(o),u=r(4),i=(r.n(u),function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}()),l=function(e){function t(){var e,r,o;n(this,t);for(var u=arguments.length,i=Array(u),l=0;l<u;l++)i[l]=arguments[l];return r=o=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),o.state={firstThreeArray:[1],lastNumber:"",showEllipis:!0},o.prev=function(){o.props.currentPage>1&&o.props.changeCurrentPage(o.props.currentPage-1)},o.next=function(){o.props.currentPage<o.props.totalPages&&o.props.changeCurrentPage(o.props.currentPage+1)},o.changeCurrentPage=function(e){o.props.changeCurrentPage(e)},o.showEllipsis=function(){if(o.state.showEllipis)return s.a.createElement("a",null,s.a.createElement("li",null,"..."))},o.isactive=function(e){return o.props.currentPage==e},o.showLastPagi=function(){if(o.props.currentPage!==o.props.totalPages)return s.a.createElement("a",{className:o.isactive(o.props.totalPages)?"is-active":"",onClick:function(){o.changeCurrentPage(o.props.totalPages)}},s.a.createElement("li",null,o.props.totalPages))},o.showPrev=function(){if(1!=o.props.currentPage)return s.a.createElement("a",{onClick:o.prev},s.a.createElement("li",null,"<"))},o.showNext=function(){if(o.props.currentPage<o.props.totalPages)return s.a.createElement("a",{onClick:o.next},s.a.createElement("li",null,">"))},a(o,r)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentDidMount",value:function(){if(this.props.totalPages<=5){for(var e=[],t=1;t<=this.props.totalPages;t++)e.push(t);this.setState({firstThreeArray:e})}else{if(this.props.currentPage<3)this.setState({firstThreeArray:[1,2,3]});else{e=[];for(var r=1,n=this.props.currentPage;n>=0&&(e.push(n),3!==r);n--)r++;e.reverse(),this.setState({firstThreeArray:e})}this.setState({lastNumber:this.props.totalPages})}}},{key:"componentWillReceiveProps",value:function(e){if(e.totalPages<=5){for(var t=[],r=1;r<=e.totalPages;r++)t.push(r);this.setState({firstThreeArray:t})}else this.props.currentPage===e.currentPage&&this.props.totalPages===e.totalPages||(e.currentPage<3?this.setState({firstThreeArray:[1,2,3]}):((t=[]).push(e.currentPage-1),t.push(e.currentPage),e.currentPage+1<e.totalPages&&t.push(e.currentPage+1),e.currentPage==e.totalPages-2||e.currentPage==e.totalPages-1||e.currentPage==e.totalPages?this.setState({showEllipis:!1}):this.setState({showEllipis:!0}),this.setState({firstThreeArray:t})),this.setState({lastNumber:e.totalPages}))}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:this.props.theme+" pagination"},s.a.createElement("ul",null,this.showPrev(),this.props.totalPages<=5?this.state.firstThreeArray.map((function(t,r){return s.a.createElement("a",{key:r,className:e.isactive(t)?"is-active":"",onClick:function(){e.changeCurrentPage(t)}},s.a.createElement("li",null,t))})):s.a.createElement(s.a.Fragment,null,this.state.firstThreeArray.map((function(t,r){return s.a.createElement("a",{key:r,className:e.isactive(t)?"is-active":"",onClick:function(){e.changeCurrentPage(t)}},s.a.createElement("li",null,t))})),this.showEllipsis(),this.showLastPagi()),this.showNext()))}}]),t}(s.a.Component);t.a=l,l.defaultProps={theme:"square-i",currentPage:1,totalPages:15}},function(e,t){e.exports=n},function(e,t){}]))},301:function(e,t,r){},306:function(e,t,r){"use strict";r.r(t);var n=r(51),a=r(52),o=r(53),s=r(54),u=r(0),i=r.n(u),l=(r(14),r(31)),c=r(23),p=r(300),f=r.n(p),h=(r(301),r(252),r(6),r(11)),g=function(e){var t=e.user,r=e.followInProgress,n=e.unfollow,a=e.follow;return i.a.createElement("div",{key:t.id*Math.random(),className:"userItem"},i.a.createElement("div",{className:"userItem-mainContainer"},i.a.createElement(h.c,{to:"/profile/"+t.id,className:"userItem_link"},i.a.createElement("div",{className:"userItem-leftContainer"},i.a.createElement("img",{src:t.photos.small?t.photos.small:"https://avatars.mds.yandex.net/get-pdb/1732371/78b3b128-3813-4d35-8b87-b3c911581ca0/s1200?webp=false",className:"userItem_avatarka"}),i.a.createElement("div",{className:"userItem_info"},i.a.createElement("span",{className:"userItem_fullName"},t.name),i.a.createElement("span",{className:"userItem_status"},t.status)))),i.a.createElement("div",{className:"userItem_buttons"},t.followed?i.a.createElement("button",{type:"button",disabled:r.some((function(e){return e===t.id})),className:"btn btn-danger",onClick:function(){n(t.id)}},"Unfollow"):i.a.createElement("button",{type:"button",disabled:r.some((function(e){return e===t.id})),className:"btn btn-success",onClick:function(){a(t.id)}},"Follow"))))},m=function(e){var t=Math.ceil(e.totalUsersCount/e.pageSize);return i.a.createElement("div",{className:"findUsers"},e.users.map((function(t){return i.a.createElement(g,{user:t,followInProgress:e.followInProgress,unfollow:e.unfollow,follow:e.follow,key:t.id*Math.random()})})),i.a.createElement(f.a,{currentPage:e.currentPage,totalPages:t,changeCurrentPage:e.onCurrentPageCnanged,theme:"bottom-border"}))},P=r(231),b=function(e){return e.friendsPage.users},d=function(e){return e.friendsPage.pageSize},v=function(e){return e.friendsPage.totalUsersCount},w=function(e){return e.friendsPage.currentPage},y=function(e){return e.friendsPage.isFetching},E=function(e){return e.friendsPage.followInProgress},C=r(72),k=r(50),O=function(e){Object(s.a)(r,e);var t=Object(o.a)(r);function r(){var e;Object(n.a)(this,r);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).onCurrentPageCnanged=function(t){e.props.getUserThunkCreator(e.props.pageSize,t)},e}return Object(a.a)(r,[{key:"componentDidMount",value:function(){this.props.getUserThunkCreator(this.props.pageSize,this.props.currentPage)}},{key:"render",value:function(){return i.a.createElement(i.a.Fragment,null,this.props.isFetching?i.a.createElement(k.a,null):i.a.createElement(m,{totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,users:this.props.users,unfollow:this.props.unfollowUserThunkCreator,follow:this.props.followUserThunkCreator,currentPage:this.props.currentPage,onCurrentPageCnanged:this.onCurrentPageCnanged,followInProgress:this.props.followInProgress}))}}]),r}(u.Component);t.default=Object(c.d)(Object(l.b)((function(e){return{users:b(e),pageSize:d(e),totalUsersCount:v(e),currentPage:w(e),isFetching:y(e),followInProgress:E(e)}}),{follow:C.a,unfollow:C.e,followingInProgress:C.c,getUserThunkCreator:C.d,followUserThunkCreator:C.b,unfollowUserThunkCreator:C.f}),P.b,P.a)(O)}}]);
//# sourceMappingURL=7.81005cae.chunk.js.map