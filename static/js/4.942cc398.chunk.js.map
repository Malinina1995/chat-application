{"version":3,"sources":["utils/validators/validators.js","FormControls/FormControls.js","hoc/AuthRedirect.js","Components/ProfileComponent/PostComponent/Post.js","Components/ProfileComponent/MyPostsComponent/MyPosts.js","Components/ProfileComponent/MyPostsComponent/MyPostsContainer.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","Components/ProfileComponent/ProfileStatus/ProfileStatusWithHooks.js","Components/ProfileComponent/ProfileInfoComponent/ProfileDataComponent/ProfileData.js","Components/ProfileComponent/ProfileInfoComponent/ProfileDataForm/ProfileDataForm.js","Components/ProfileComponent/ProfileInfoComponent/ProfileInfo.js","Components/ProfileComponent/Profile.js","Components/ProfileComponent/ProfileContainer.js"],"names":["required","value","maxLength","max","length","undefined","classNames","require","Textarea","input","meta","touched","error","placeholder","warning","props","hasError","classesForTextarea","className","Input","authRedirect","Component","RedirectComponent","this","isAuth","to","React","connect","state","auth","authRedirectAwaiter","AuthRedirectAwaiter","authThunkCreator","Post","src","message","maxLength30","AddPostsReduxForm","reduxForm","form","onSubmit","handleSubmit","Field","component","name","rows","validate","MyPostsContainer","profilePage","addPost","addPostActionCreator","text","newPostText","posts","reverse","map","post","key","id","_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","_s","_i","next","done","push","err","unsupportedIterableToArray","TypeError","ProfileStatusWithHooks","useState","editMode","setEditMode","status","setStatus","useEffect","onChange","e","currentTarget","autoFocus","onBlur","updateUserStatus","onDoubleClick","isOwner","ProfileData","profile","goToEditMode","aboutMe","lookingForAJob","lookingForAJobDescription","keys","contacts","contactsTitle","contactsValue","onClick","Contacts","type","ProfileDataFormReduxForm","initialValues","ProfileInfo","Preloader","imagePath","photos","large","fullName","formData","saveData","then","target","savePhoto","files","Profile","ProfileContainer","refreshProfile","prevProps","prevState","snapshot","match","params","userId","logUserId","getUserThunkCreator","getUserStatusThunkCreator","savePhotoThunkCreator","saveDataThunkCreator","updateUserStatusThunkCreator","compose","withRouter"],"mappings":"gGAAA,oEAAO,IAAMA,EAAW,SAAAC,GACtB,IAAGA,EACH,MAAO,qBAGIC,EAAY,SAAAC,GAAG,OAAI,SAAAF,GAAK,OACnCA,GAASA,EAAMG,OAASD,EAAxB,kBAAyCA,EAAzC,4BAAoEE,K,kICJlEC,G,OAAaC,EAAQ,MAEZC,EAAW,SAAC,GAAuE,IAAtEC,EAAqE,EAArEA,MAAqE,IAA9DC,KAAQC,EAAsD,EAAtDA,QAASC,EAA6C,EAA7CA,MAAkBC,GAA2B,EAAtCC,QAAsC,EAA3BD,aAAgBE,EAAW,8CACvFC,EAAYL,GAAWC,EACvBK,EAAqBX,EAAW,CACpC,gBAAgB,EAChB,gBAAgB,EAChB,cAAiBU,EACjB,aAAgBA,IAGlB,OACE,4CAAUE,UAAWD,EAAoBJ,YAAaA,GAAiBJ,EAAWM,KAIzEI,EAAQ,SAAC,GAAuE,IAAtEV,EAAqE,EAArEA,MAAqE,IAA9DC,KAAQC,EAAsD,EAAtDA,QAASC,EAA6C,EAA7CA,MAAkBC,GAA2B,EAAtCC,QAAsC,EAA3BD,aAAgBE,EAAW,8CACpFC,EAAYL,GAAWC,EACvBK,EAAqBX,EAAW,CACpC,gBAAgB,EAChB,cAAiBU,EACjB,aAAgBA,IAGlB,OACE,yCAAOE,UAAWD,EAAoBJ,YAAaA,GAAiBJ,EAAWM,M,+MCpBtEK,EAAe,SAACC,GAE3B,IAGMC,EALmC,uKAQrC,OAAIC,KAAKR,MAAMS,OAGR,kBAACH,EAAcE,KAAKR,OAFlB,kBAAC,IAAD,CAAUU,GAAG,eATe,GAKTC,IAAML,WAYtC,OAF0BM,aAbD,SAACC,GAAD,MAAY,CACnCJ,OAAQI,EAAMC,KAAKL,UAYKG,CAA4BL,IAK3CQ,EAAsB,SAACT,GAElC,IAGMU,EAL0C,kLAO5CR,KAAKR,MAAMiB,qBAPiC,+BAW5C,OAAyB,OAAtBT,KAAKR,MAAMS,OACL,kBAAC,IAAD,MAEF,kBAACH,EAAcE,KAAKR,WAdiB,GAKdW,IAAML,WAgBxC,OAF0BM,aAjBD,SAACC,GAAD,MAAY,CACnCJ,OAAQI,EAAMC,KAAKL,UAgBiC,CAACQ,sBAA7BL,CAAgDI,K,yVCzCrE,SAASE,EAAKlB,GACnB,OACE,yBAAKG,UAAU,QACb,yBAAKgB,IAAI,sHACT,8BAAOnB,EAAMoB,UCkBnB,IAAIC,EAAclC,YAAU,IAmB5B,IAAMmC,EAAoBC,YAAU,CAClCC,KAAM,WADkBD,EAjB1B,SAAmBvB,GACjB,OACE,0BAAMG,UAAU,sBAAsBsB,SAAUzB,EAAM0B,cACpD,kBAACC,EAAA,EAAD,CACEC,UAAWnC,IACXoC,KAAK,cACL/B,YAAY,cACZgC,KAAK,IACLC,SAAU,CAAC9C,IAAUoC,KAEvB,6BACE,4BAAQlB,UAAU,iCAAlB,Y,QCzBG6B,EAAmBpB,aANR,SAAAC,GACpB,MAAO,CACLoB,YAAapB,EAAMoB,eAMrB,CACEC,QAASC,KAHiBvB,EDLvB,SAAiBZ,GAKtB,OACE,yBAAKG,UAAU,iBACb,kBAACmB,EAAD,CAAmBG,SANN,SAAAW,GACfpC,EAAMkC,QAAQE,EAAKC,gBAMjB,yBAAKlC,UAAU,uBACZ,YAAIH,EAAMiC,YAAYK,OAAOC,UAAUC,KAAI,SAAAC,GAC1C,OAAO,kBAAC,EAAD,CAAMC,IAAKD,EAAKE,GAAIvB,QAASqB,EAAKrB,kB,YEhBpC,SAASwB,EAAeC,EAAKC,GAC1C,OCLa,SAAyBD,GACtC,GAAIE,MAAMC,QAAQH,GAAM,OAAOA,EDIxB,CAAeA,IELT,SAA+BA,EAAKC,GACjD,GAAsB,qBAAXG,QAA4BA,OAAOC,YAAYC,OAAON,GAAjE,CACA,IAAIO,EAAO,GACPC,GAAK,EACLC,GAAK,EACLC,OAAKjE,EAET,IACE,IAAK,IAAiCkE,EAA7BC,EAAKZ,EAAII,OAAOC,cAAmBG,GAAMG,EAAKC,EAAGC,QAAQC,QAChEP,EAAKQ,KAAKJ,EAAGtE,QAET4D,GAAKM,EAAK/D,SAAWyD,GAH8CO,GAAK,IAK9E,MAAOQ,GACPP,GAAK,EACLC,EAAKM,EACL,QACA,IACOR,GAAsB,MAAhBI,EAAW,QAAWA,EAAW,SAC5C,QACA,GAAIH,EAAI,MAAMC,GAIlB,OAAOH,GFnBuB,CAAqBP,EAAKC,IAAM,OAAAgB,EAAA,GAA2BjB,EAAKC,IGLjF,WACb,MAAM,IAAIiB,UAAU,6IHIgF,G,YIF3FC,G,cAAyB,SAAAhE,GAAU,IAAD,IACbiE,oBAAS,GADI,GACtCC,EADsC,KAC5BC,EAD4B,SAEjBF,mBAASjE,EAAMoE,QAFE,GAEtCA,EAFsC,KAE9BC,EAF8B,KAqB3C,OAJAC,qBAAU,WACRD,EAAUrE,EAAMoE,UACf,CAACpE,EAAMoE,SAGR,yBAAKjE,UAAU,kBACX+D,EAKA,6BACE,2BACEK,SAjBa,SAAAC,GACrBH,EAAUG,EAAEC,cAAcvF,QAiBlBwF,WAAW,EACXC,OAxBiB,WACzBR,GAAY,GACZnE,EAAM4E,iBAAiBR,IAuBflF,MAAOkF,KATX,yBAAKS,cApBc,WACvB7E,EAAM8E,QAAUX,GAAY,GAAQA,GAAY,KAoBzCnE,EAAMoE,QAAU,gBCzBdW,G,OAAc,SAAC,GAAsC,IAArCC,EAAoC,EAApCA,QAASF,EAA2B,EAA3BA,QAASG,EAAkB,EAAlBA,aAC7C,OACE,oCACE,6BACE,0BAAM9E,UAAU,sBAAhB,cACA,8BAAO6E,EAAQE,UAEjB,6BACE,0BAAM/E,UAAU,sBAAhB,uBACA,8BAAO6E,EAAQG,eAAiB,MAAQ,OAEzCH,EAAQG,gBACP,6BACE,0BAAMhF,UAAU,sBAAhB,4BACA,8BAAO6E,EAAQI,4BAGnB,yBAAKjF,UAAU,sBAAf,cACCgD,OAAOkC,KAAKL,EAAQM,UAAU9C,KAAI,SAAAE,GACjC,OACE,kBAAC,EAAD,CACEA,IAAKA,EACL6C,cAAe7C,EACf8C,cAAeR,EAAQM,SAAS5C,QAIrCoC,GAAU,6BAAK,4BAAQ3E,UAAU,kBAAkBsF,QAASR,GAA7C,YAKhBS,EAAW,SAAC,GAAsC,IAApCH,EAAmC,EAAnCA,cAAeC,EAAoB,EAApBA,cACjC,OACE,6BACE,0BAAMrF,UAAU,+BAA+BoF,EAA/C,MACA,8BAAOC,KC0BPE,G,OAAW,SAAC,GAAsC,IAApCH,EAAmC,EAAnCA,cAAmC,EAApBC,cACjC,OACE,6BACE,0BAAMrF,UAAU,+BAA+BoF,EAA/C,MACA,kBAAC5D,EAAA,EAAD,CAAOC,UAAWxB,IAAOuF,KAAK,OAAO9D,KAAI,mBAAc0D,QAKhDK,EAA2BrE,YAAU,CAChDC,KAAM,gBADgCD,EAnEhB,SAAC,GAA4C,IAA1CG,EAAyC,EAAzCA,aAAcmE,EAA2B,EAA3BA,cAAehG,EAAY,EAAZA,MACtD,OACE,0BAAM4B,SAAUC,GACd,6BACE,0BAAMvB,UAAU,sBAAhB,eACA,kBAACwB,EAAA,EAAD,CACEC,UAAWxB,IACXuF,KAAK,OACL9D,KAAK,WACLE,SAAU,CAAC9C,QAGf,6BACE,0BAAMkB,UAAU,sBAAhB,cACA,kBAACwB,EAAA,EAAD,CACEC,UAAWxB,IACXuF,KAAK,OACL9D,KAAK,UACLE,SAAU,CAAC9C,QAGf,yBAAKkB,UAAU,yBACb,0BAAMA,UAAU,kDAAhB,uBACA,6BACE,kBAACwB,EAAA,EAAD,CACEC,UAAWxB,IACXuF,KAAK,WACL9D,KAAK,qBAIX,6BACE,0BAAM1B,UAAU,sBAAhB,4BACA,kBAACwB,EAAA,EAAD,CACEC,UAAWnC,IACXkG,KAAK,OACL9D,KAAK,4BACLE,SAAU,CAAC9C,QAGf,yBAAKkB,UAAU,sBAAf,cACCgD,OAAOkC,KAAKQ,EAAcP,UAAU9C,KAAI,SAAAE,GACvC,OACE,kBAAC,EAAD,CACEA,IAAKA,EACL6C,cAAe7C,EACf8C,cAAeK,EAAcP,SAAS5C,QAI5C,yBAAKvC,UAAU,aAAaN,GAC5B,6BACE,4BAAQM,UAAU,mBAAlB,aClDD,SAAS2F,EAAY9F,GAAQ,IAAD,IACHiE,oBAAS,GADN,GAC5BC,EAD4B,KAClBC,EADkB,KAGjC,IAAKnE,EAAMgF,QACT,OAAO,kBAACe,EAAA,EAAD,MAGT,IAYIC,EAAYhG,EAAMgF,QAAQiB,OAAOC,MACjClG,EAAMgF,QAAQiB,OAAOC,MACrB,uGACJ,OACE,oCACE,yBAAK/F,UAAU,gBACb,6BACE,yBAAKgB,IAAK6E,EAAW7F,UAAU,yBAEjC,yBAAKA,UAAU,uBACb,0BAAMA,UAAU,qBAAqBH,EAAMgF,QAAQmB,UACnD,kBAAC,EAAD,CACE/B,OAAQpE,EAAMoE,OACdU,QAAS9E,EAAM8E,QACfF,iBAAkB5E,EAAM4E,mBAEzBV,EACC,kBAAC0B,EAAD,CACEC,cAAe7F,EAAMgF,QACrBvD,SAzBK,SAAA2E,GACfpG,EAAMqG,SAASD,GAAUE,MAAK,WAC5BnC,GAAY,SA0BN,kBAAC,EAAD,CACEc,aAAc,WACZd,GAAY,IAEda,QAAShF,EAAMgF,QACfF,QAAS9E,EAAM8E,YAKtB9E,EAAM8E,SACL,yBAAK3E,UAAU,yBAAf,iBACgB,2BAAOwF,KAAK,OAAOpB,SA9Cb,SAAAC,GACtBA,EAAE+B,OAAOrH,MAAMG,QACjBW,EAAMwG,UAAUhC,EAAE+B,OAAOE,MAAM,SCV9B,SAASC,EAAQ1G,GACtB,OACE,yBAAKG,UAAU,mBACb,kBAAC,EAAD,CACE6E,QAAShF,EAAMgF,QACfZ,OAAQpE,EAAMoE,OACdU,QAAS9E,EAAM8E,QACfF,iBAAkB5E,EAAM4E,iBACxB4B,UAAWxG,EAAMwG,UACjBH,SAAUrG,EAAMqG,WAElB,yBAAKlG,UAAU,iBACb,kBAAC6B,EAAD,Q,aCFF2E,E,kLAEFnG,KAAKoG,mB,yCAGYC,EAAWC,EAAWC,GACpCvG,KAAKR,MAAMgH,MAAMC,OAAOC,QAAUL,EAAUG,MAAMC,OAAOC,QAC1D1G,KAAKoG,mB,uCAKP,IAAIM,EAAS1G,KAAKR,MAAMgH,MAAMC,OAAOC,OACjC1G,KAAKR,MAAMgH,MAAMC,OAAOC,OACxB1G,KAAKR,MAAMmH,UACf3G,KAAKR,MAAMoH,oBAAoBF,GAC/B1G,KAAKR,MAAMqH,0BAA0BH,K,+BAIrC,OACE,oCACI1G,KAAKR,MAAMgF,QAGT,kBAAC,EAAD,iBACMxE,KAAKR,MADX,CAEEgF,QAASxE,KAAKR,MAAMgF,QACpBZ,OAAQ5D,KAAKR,MAAMoE,OACnBU,SAAUtE,KAAKR,MAAMgH,MAAMC,OAAOC,OAClCV,UAAWhG,KAAKR,MAAMsH,sBACtBjB,SAAU7F,KAAKR,MAAMuH,qBACrB3C,iBAAkBpE,KAAKR,MAAMwH,gCATjC,kBAACzB,EAAA,EAAD,W,GAvBqBzF,aAiDhBmH,sBACb7G,aAVoB,SAAAC,GACpB,MAAO,CACLmE,QAASnE,EAAMoB,YAAY+C,QAC3BZ,OAAQvD,EAAMoB,YAAYmC,OAC1B+C,UAAWtG,EAAMC,KAAKoG,OACtBzG,OAAQI,EAAMC,KAAKL,UAOnB,CACE2G,wBACAC,8BACAG,iCACAF,0BACAC,2BAGJG,IACA3G,IACAV,IAbaoH,CAcbd","file":"static/js/4.942cc398.chunk.js","sourcesContent":["export const required = value => {\r\n  if(value) return undefined;\r\n  return 'Field is reqiared';\r\n}\r\n\r\nexport const maxLength = max => value =>\r\n  value && value.length > max ? `Must be ${max} characters or less` : undefined\r\n","import React from 'react';\nimport './FormControls.css';\nvar classNames = require('classnames');\n\nexport const Textarea = ({input, meta: { touched, error, warning }, placeholder, ...props}) => {\n  const hasError =  touched && error;\n  const classesForTextarea = classNames({\n    'form-control': true,\n    'send-message': true,\n    'errorTextarea': hasError,\n    'borderColor': !hasError\n  });\n\n  return (\n    <textarea className={classesForTextarea} placeholder={placeholder} {...input} {...props}/>\n  )\n}\n\nexport const Input = ({input, meta: { touched, error, warning }, placeholder, ...props}) => {\n  const hasError =  touched && error;\n  const classesForTextarea = classNames({\n    'form-control': true,\n    'errorTextarea': hasError,\n    'borderColor': !hasError\n  });\n\n  return (\n    <input className={classesForTextarea} placeholder={placeholder} {...input} {...props}/>\n  )\n}","import { Redirect } from 'react-router-dom';\r\nimport React, { Component } from 'react';\r\nimport { connect } from \"react-redux\";\r\nimport { authThunkCreator } from '../reducers/authReducer';\r\nimport { Preloader } from '../Components/PreloaderComponent/Preloader';\r\n\r\n\r\nexport const authRedirect = (Component) => {\r\n  \r\n  let mapStateToRedirect = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n  })\r\n  class RedirectComponent extends React.Component {\r\n    \r\n    render() {\r\n      if(!this.props.isAuth){\r\n        return <Redirect to=\"/login\"/>\r\n      } \r\n      return <Component {...this.props} />\r\n    }\r\n  }\r\n\r\n  let connectAuthRedirect = connect(mapStateToRedirect)(RedirectComponent);\r\n\r\n  return connectAuthRedirect;\r\n}\r\n\r\nexport const authRedirectAwaiter = (Component) => {\r\n  \r\n  let mapStateToRedirect = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n  })\r\n  class AuthRedirectAwaiter extends React.Component {\r\n    componentDidMount() {\r\n      this.props.authThunkCreator();\r\n    }\r\n    \r\n    render() {\r\n      if(this.props.isAuth === null){\r\n        return <Preloader />\r\n      } \r\n      return <Component {...this.props} />\r\n    }\r\n  }\r\n\r\n\r\n  let connectAuthRedirect = connect(mapStateToRedirect, {authThunkCreator})(AuthRedirectAwaiter);\r\n\r\n  return connectAuthRedirect;\r\n}","import React, { Component } from \"react\";\r\nimport { render } from \"react-dom\";\r\n\r\nimport \"./Post.css\";\r\n\r\nexport function Post(props) {\r\n  return (\r\n    <div className=\"post\">\r\n      <img src=\"https://avatars.yandex.net/get-music-user-playlist/27701/265236767.1000.16809/m1000x1000?1498108273588&webp=false\" />\r\n      <span>{props.message}</span>\r\n    </div>\r\n  );\r\n}\r\n","import React, { Component } from \"react\";\nimport { render } from \"react-dom\";\nimport { Field, reduxForm } from \"redux-form\";\nimport { required, maxLength } from \"../../../utils/validators/validators\";\nimport { Textarea } from \"../../../FormControls/FormControls\";\n\nimport \"./MyPosts.css\";\n\nimport { Post } from \"../PostComponent/Post\";\n\nexport function MyPosts(props) {\n  let addNewPost = text => {\n    props.addPost(text.newPostText);\n  };\n\n  return (\n    <div className=\"profile_posts\">\n      <AddPostsReduxForm onSubmit={addNewPost} />\n      <div className=\"profile_posts-items\">\n        {[...props.profilePage.posts].reverse().map(post => {\n          return <Post key={post.id} message={post.message} />;\n        })}\n      </div>\n    </div>\n  );\n}\n\nlet maxLength30 = maxLength(30);\n\nfunction PostsForm(props) {\n  return (\n    <form className=\"form-group textarea\" onSubmit={props.handleSubmit}>\n      <Field\n        component={Textarea}\n        name=\"newPostText\"\n        placeholder=\"What's new?\"\n        rows=\"3\"\n        validate={[required, maxLength30]}\n      />\n      <div>\n        <button className=\"btn btn-primary textarea-send\">Add</button>\n      </div>\n    </form>\n  );\n}\n\nconst AddPostsReduxForm = reduxForm({\n  form: \"addPost\"\n})(PostsForm);\n","import React, { Component } from \"react\";\nimport { render } from \"react-dom\";\nimport { connect } from \"react-redux\";\n\nimport { MyPosts } from \"./MyPosts\";\nimport {\n  addPostActionCreator\n} from \"../../../reducers/profileReducer\";\n\nlet mapStateToProps = state => {\n  return {\n    profilePage: state.profilePage\n  };\n};\n\nexport let MyPostsContainer = connect(\n  mapStateToProps,\n  {\n    addPost: addPostActionCreator\n  }\n)(MyPosts);\n","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import React, { useState, useEffect } from \"react\";\nimport \"./ProfileStatus.css\"\n\nexport let ProfileStatusWithHooks = props => {\n  let [editMode, setEditMode] = useState(false);\n  let [status, setStatus] = useState(props.status);\n\n  const activateEditMode = () => {\n    props.isOwner ? setEditMode(true) : setEditMode(false);\n  };\n\n  const deactivateEditMode = () => {\n    setEditMode(false);\n    props.updateUserStatus(status);\n  };\n\n  const onStatusChange = e => {\n    setStatus(e.currentTarget.value);\n  };\n\n  useEffect(() => {\n    setStatus(props.status);\n  }, [props.status]);\n\n  return (\n    <div className='profile-status'>\n      {!editMode ? (\n        <div onDoubleClick={activateEditMode}>\n          {props.status || \"No status\"}\n        </div>\n      ) : (\n        <div>\n          <input\n            onChange={onStatusChange}\n            autoFocus={true}\n            onBlur={deactivateEditMode}\n            value={status}\n          />\n        </div>\n      )}\n    </div>\n  );\n};\n","import React from \"react\";\r\nimport \"./ProfileData.css\";\r\n\r\nexport const ProfileData = ({profile, isOwner, goToEditMode}) => {\r\n  return (\r\n    <>\r\n      <div>\r\n        <span className=\"profile_info-title\">About me: </span>\r\n        <span>{profile.aboutMe}</span>\r\n      </div>\r\n      <div>\r\n        <span className=\"profile_info-title\">Looking for a job: </span>\r\n        <span>{profile.lookingForAJob ? \"yes\" : \"no\"}</span>\r\n      </div>\r\n      {profile.lookingForAJob && (\r\n        <div>\r\n          <span className=\"profile_info-title\">My professional skills: </span>\r\n          <span>{profile.lookingForAJobDescription}</span>\r\n        </div>\r\n      )}\r\n      <div className=\"profile_info-title\">Contacts: </div>\r\n      {Object.keys(profile.contacts).map(key => {\r\n        return (\r\n          <Contacts\r\n            key={key}\r\n            contactsTitle={key}\r\n            contactsValue={profile.contacts[key]}\r\n          />\r\n        );\r\n      })}\r\n      {isOwner &&<div><button className=\"btn btn-primary\" onClick={goToEditMode}>edit</button></div>}\r\n    </>\r\n  );\r\n};\r\n\r\nconst Contacts = ({ contactsTitle, contactsValue }) => {\r\n  return (\r\n    <div>\r\n      <span className=\"profile_info-title contacts\">{contactsTitle}: </span>\r\n      <span>{contactsValue}</span>\r\n    </div>\r\n  );\r\n};","import React from \"react\";\r\nimport { Field } from \"redux-form\";\r\nimport { Input, Textarea } from \"../../../../FormControls/FormControls\";\r\nimport { reduxForm } from \"redux-form\";\r\nimport { required } from \"../../../../utils/validators/validators\";\r\nimport './ProfileDataForm.css';\r\n\r\nconst ProfileDataForm = ({ handleSubmit, initialValues, error }) => {\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      <div>\r\n        <span className=\"profile_info-title\">Full name: </span>\r\n        <Field\r\n          component={Input}\r\n          type=\"text\"\r\n          name=\"fullName\"\r\n          validate={[required]}\r\n        />\r\n      </div>\r\n      <div>\r\n        <span className=\"profile_info-title\">About me: </span>\r\n        <Field\r\n          component={Input}\r\n          type=\"text\"\r\n          name=\"aboutMe\"\r\n          validate={[required]}\r\n        />\r\n      </div>\r\n      <div className='profile_info-checkbox'>\r\n        <span className=\"profile_info-title profile_info-checkbox-title\">Looking for a job: </span>\r\n        <div>\r\n          <Field\r\n            component={Input}\r\n            type=\"checkbox\"\r\n            name=\"lookingForAJob\"\r\n          />\r\n        </div>\r\n      </div>\r\n      <div>\r\n        <span className=\"profile_info-title\">My professional skills: </span>\r\n        <Field\r\n          component={Textarea}\r\n          type=\"text\"\r\n          name=\"lookingForAJobDescription\"\r\n          validate={[required]}\r\n        />\r\n      </div>\r\n      <div className=\"profile_info-title\">Contacts: </div>\r\n      {Object.keys(initialValues.contacts).map(key => {\r\n        return (\r\n          <Contacts\r\n            key={key}\r\n            contactsTitle={key}\r\n            contactsValue={initialValues.contacts[key]}\r\n          />\r\n        );\r\n      })}\r\n      <div className='someError'>{error}</div>\r\n      <div>\r\n        <button className=\"btn btn-primary\">save</button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nconst Contacts = ({ contactsTitle, contactsValue }) => {\r\n  return (\r\n    <div>\r\n      <span className=\"profile_info-title contacts\">{contactsTitle}: </span>\r\n      <Field component={Input} type=\"text\" name={`contacts.${contactsTitle}`} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const ProfileDataFormReduxForm = reduxForm({\r\n  form: \"edit-profile\"\r\n})(ProfileDataForm);\r\n","import React, { Component, useState } from \"react\";\r\nimport { render } from \"react-dom\";\r\nimport { Preloader } from \"../../PreloaderComponent/Preloader\";\r\n\r\nimport \"./ProfileInfo.css\";\r\nimport { ProfileStatusWithHooks } from \"../ProfileStatus/ProfileStatusWithHooks\";\r\nimport { ProfileData } from \"./ProfileDataComponent/ProfileData\";\r\nimport { ProfileDataFormReduxForm } from \"./ProfileDataForm/ProfileDataForm\";\r\n\r\nexport function ProfileInfo(props) {\r\n  let [editMode, setEditMode] = useState(false);\r\n\r\n  if (!props.profile) {\r\n    return <Preloader />;\r\n  }\r\n\r\n  const onMainPhotoSelector = e => {\r\n    if (e.target.value.length) {\r\n      props.savePhoto(e.target.files[0]);\r\n    }\r\n  };\r\n\r\n  const onSubmit = formData => {\r\n    props.saveData(formData).then(()=>{\r\n      setEditMode(false);\r\n    })\r\n  };\r\n\r\n  let imagePath = props.profile.photos.large\r\n    ? props.profile.photos.large\r\n    : \"https://avatars.mds.yandex.net/get-pdb/1732371/78b3b128-3813-4d35-8b87-b3c911581ca0/s1200?webp=false\";\r\n  return (\r\n    <>\r\n      <div className=\"profile_info\">\r\n        <div>\r\n          <img src={imagePath} className=\"profile_info-avatar\" />\r\n        </div>\r\n        <div className=\"profile_information\">\r\n          <span className=\"profile_info-name\">{props.profile.fullName}</span>\r\n          <ProfileStatusWithHooks\r\n            status={props.status}\r\n            isOwner={props.isOwner}\r\n            updateUserStatus={props.updateUserStatus}\r\n          />\r\n          {editMode ? (\r\n            <ProfileDataFormReduxForm\r\n              initialValues={props.profile}\r\n              onSubmit={onSubmit}\r\n            />\r\n          ) : (\r\n            <ProfileData\r\n              goToEditMode={() => {\r\n                setEditMode(true);\r\n              }}\r\n              profile={props.profile}\r\n              isOwner={props.isOwner}\r\n            />\r\n          )}\r\n        </div>\r\n      </div>\r\n      {props.isOwner && (\r\n        <div className=\"profile_info-addPhoto\">\r\n          Update avatar <input type=\"file\" onChange={onMainPhotoSelector} />\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { render } from \"react-dom\";\r\n\r\nimport \"./Profile.css\";\r\n\r\nimport { MyPostsContainer } from \"./MyPostsComponent/MyPostsContainer\";\r\nimport { ProfileInfo } from \"./ProfileInfoComponent/ProfileInfo\";\r\n\r\nexport function Profile(props) {\r\n  return (\r\n    <div className=\"profile-content\">\r\n      <ProfileInfo\r\n        profile={props.profile}\r\n        status={props.status}\r\n        isOwner={props.isOwner}\r\n        updateUserStatus={props.updateUserStatus}\r\n        savePhoto={props.savePhoto}\r\n        saveData={props.saveData}\r\n      />\r\n      <div className=\"profile_posts\">\r\n        <MyPostsContainer />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { Component } from \"react\";\nimport { render } from \"react-dom\";\nimport { connect } from \"react-redux\";\nimport { withRouter, Redirect } from \"react-router-dom\";\nimport { compose } from \"redux\";\n\n\nimport { Profile } from \"./Profile\";\nimport {\n  getUserThunkCreator,\n  getUserStatusThunkCreator,\n  updateUserStatusThunkCreator,\n  savePhotoThunkCreator,\n  saveDataThunkCreator\n} from \"../../reducers/profileReducer\";\nimport { Preloader } from \"../PreloaderComponent/Preloader\";\nimport { authRedirect, authRedirectAwaiter } from \"../../hoc/AuthRedirect\";\n\nclass ProfileContainer extends Component {\n  componentDidMount() {\n    this.refreshProfile();\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    if(this.props.match.params.userId != prevProps.match.params.userId){\n      this.refreshProfile();\n    }\n  }\n\n  refreshProfile() {\n    let userId = this.props.match.params.userId\n      ? this.props.match.params.userId\n      : this.props.logUserId;\n    this.props.getUserThunkCreator(userId);\n    this.props.getUserStatusThunkCreator(userId);\n  }\n\n  render() {\n    return (\n      <>\n        {!this.props.profile ? (\n          <Preloader />\n        ) : (\n            <Profile\n              {...this.props}\n              profile={this.props.profile}\n              status={this.props.status}\n              isOwner={!this.props.match.params.userId}\n              savePhoto={this.props.savePhotoThunkCreator}\n              saveData={this.props.saveDataThunkCreator}\n              updateUserStatus={this.props.updateUserStatusThunkCreator}\n            />\n        )}\n      </>\n    );\n  }\n}\n\nlet mapStateToProps = state => {\n  return {\n    profile: state.profilePage.profile,\n    status: state.profilePage.status,\n    logUserId: state.auth.userId,\n    isAuth: state.auth.isAuth\n  };\n};\n\nexport default compose(\n  connect(\n    mapStateToProps,\n    {\n      getUserThunkCreator,\n      getUserStatusThunkCreator,\n      updateUserStatusThunkCreator,\n      savePhotoThunkCreator,\n      saveDataThunkCreator\n    }\n  ),\n  withRouter,\n  authRedirectAwaiter,\n  authRedirect\n)(ProfileContainer);\n"],"sourceRoot":""}