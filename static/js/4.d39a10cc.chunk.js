(this.webpackJsonpreact=this.webpackJsonpreact||[]).push([[4],{228:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return r}));var n=function(e){if(!e)return"Field is reqiared"},r=function(e){return function(t){return t&&t.length>e?"Must be ".concat(e," characters or less"):void 0}}},229:function(e,t,a){"use strict";a.d(t,"b",(function(){return l})),a.d(t,"a",(function(){return i}));var n=a(238),r=a(0),o=a.n(r),s=(a(230),a(233)),l=function(e){var t=e.input,a=e.meta,r=a.touched,l=a.error,i=(a.warning,e.placeholder),c=Object(n.a)(e,["input","meta","placeholder"]),u=r&&l,m=s({"form-control":!0,"send-message":!0,errorTextarea:u,borderColor:!u});return o.a.createElement("textarea",Object.assign({className:m,placeholder:i},t,c))},i=function(e){var t=e.input,a=e.meta,r=a.touched,l=a.error,i=(a.warning,e.placeholder),c=Object(n.a)(e,["input","meta","placeholder"]),u=r&&l,m=s({"form-control":!0,errorTextarea:u,borderColor:!u});return o.a.createElement("input",Object.assign({className:m,placeholder:i},t,c))}},230:function(e,t,a){},231:function(e,t,a){"use strict";a.d(t,"a",(function(){return f})),a.d(t,"b",(function(){return d}));var n=a(51),r=a(52),o=a(53),s=a(54),l=a(18),i=a(0),c=a.n(i),u=a(31),m=a(27),p=a(50),f=function(e){var t=function(t){Object(s.a)(i,t);var a=Object(o.a)(i);function i(){return Object(n.a)(this,i),a.apply(this,arguments)}return Object(r.a)(i,[{key:"render",value:function(){return this.props.isAuth?c.a.createElement(e,this.props):c.a.createElement(l.a,{to:"/login"})}}]),i}(c.a.Component);return Object(u.b)((function(e){return{isAuth:e.auth.isAuth}}))(t)},d=function(e){var t=function(t){Object(s.a)(l,t);var a=Object(o.a)(l);function l(){return Object(n.a)(this,l),a.apply(this,arguments)}return Object(r.a)(l,[{key:"componentDidMount",value:function(){this.props.authThunkCreator()}},{key:"render",value:function(){return null===this.props.isAuth?c.a.createElement(p.a,null):c.a.createElement(e,this.props)}}]),l}(c.a.Component);return Object(u.b)((function(e){return{isAuth:e.auth.isAuth}}),{authThunkCreator:m.b})(t)}},253:function(e,t,a){},254:function(e,t,a){},255:function(e,t,a){},296:function(e,t,a){},297:function(e,t,a){},298:function(e,t,a){},299:function(e,t,a){},307:function(e,t,a){"use strict";a.r(t);var n=a(51),r=a(52),o=a(53),s=a(54),l=a(0),i=a.n(l),c=a(31),u=a(18),m=a(22),p=(a(253),a(23)),f=a(25),d=a(105),h=a(106),b=a(228),v=a(229);a(254),a(255);function E(e){return i.a.createElement("div",{className:"post"},i.a.createElement("img",{src:"https://avatars.yandex.net/get-music-user-playlist/27701/265236767.1000.16809/m1000x1000?1498108273588&webp=false",alt:""}),i.a.createElement("span",null,e.message))}var g=Object(b.a)(30);var O=Object(h.a)({form:"addPost",onSubmitSuccess:function(e,t){return t(Object(f.a)("addPost"))}})((function(e){return i.a.createElement("form",{className:"form-group textarea",onSubmit:e.handleSubmit},i.a.createElement(d.a,{component:v.b,name:"newPostText",placeholder:"What's new?",rows:"3",value:"",validate:[b.b,g]}),i.a.createElement("div",null,i.a.createElement("button",{className:"btn btn-primary textarea-send"},"Add")))})),y=a(56),k=Object(c.b)((function(e){return{profilePage:e.profilePage}}),{addPost:y.a})((function(e){return i.a.createElement("div",{className:"profile_posts"},i.a.createElement(O,{onSubmit:function(t){e.addPost(t.newPostText)}}),i.a.createElement("div",{className:"profile_posts-items"},Object(p.a)(e.profilePage.posts).reverse().map((function(e){return i.a.createElement(E,{key:e.id,message:e.message})}))))}));var j=a(71);function N(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var a=[],n=!0,r=!1,o=void 0;try{for(var s,l=e[Symbol.iterator]();!(n=(s=l.next()).done)&&(a.push(s.value),!t||a.length!==t);n=!0);}catch(i){r=!0,o=i}finally{try{n||null==l.return||l.return()}finally{if(r)throw o}}return a}}(e,t)||Object(j.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var S=a(50),T=(a(296),a(297),function(e){var t=N(Object(l.useState)(!1),2),a=t[0],n=t[1],r=N(Object(l.useState)(e.status),2),o=r[0],s=r[1];return Object(l.useEffect)((function(){s(e.status)}),[e.status]),i.a.createElement("div",{className:"profile-status"},a?i.a.createElement("div",null,i.a.createElement("input",{onChange:function(e){s(e.currentTarget.value)},autoFocus:!0,onBlur:function(){n(!1),e.updateUserStatus(o)},value:o})):i.a.createElement("div",{onDoubleClick:function(){e.isOwner?n(!0):n(!1)}},e.status||"No status"))}),w=(a(298),function(e){var t=e.profile,a=e.isOwner,n=e.goToEditMode;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",null,i.a.createElement("span",{className:"profile_info-title"},"About me: "),i.a.createElement("span",null,t.aboutMe)),i.a.createElement("div",null,i.a.createElement("span",{className:"profile_info-title"},"Looking for a job: "),i.a.createElement("span",null,t.lookingForAJob?"yes":"no")),t.lookingForAJob&&i.a.createElement("div",null,i.a.createElement("span",{className:"profile_info-title"},"My professional skills: "),i.a.createElement("span",null,t.lookingForAJobDescription)),i.a.createElement("div",{className:"profile_info-title"},"Contacts: "),Object.keys(t.contacts).map((function(e){return i.a.createElement(C,{key:e,contactsTitle:e,contactsValue:t.contacts[e]})})),a&&i.a.createElement("div",null,i.a.createElement("button",{className:"btn btn-primary",onClick:n},"edit")))}),C=function(e){var t=e.contactsTitle,a=e.contactsValue;return i.a.createElement("div",null,i.a.createElement("span",{className:"profile_info-title contacts"},t,": "),i.a.createElement("span",null,a))},P=(a(299),function(e){var t=e.contactsTitle;e.contactsValue;return i.a.createElement("div",null,i.a.createElement("span",{className:"profile_info-title contacts"},t,": "),i.a.createElement(d.a,{component:v.a,type:"text",name:"contacts.".concat(t)}))}),_=Object(h.a)({form:"edit-profile"})((function(e){var t=e.handleSubmit,a=e.initialValues,n=e.error;return i.a.createElement("form",{onSubmit:t},i.a.createElement("div",null,i.a.createElement("span",{className:"profile_info-title"},"Full name: "),i.a.createElement(d.a,{component:v.a,type:"text",name:"fullName",validate:[b.b]})),i.a.createElement("div",null,i.a.createElement("span",{className:"profile_info-title"},"About me: "),i.a.createElement(d.a,{component:v.a,type:"text",name:"aboutMe",validate:[b.b]})),i.a.createElement("div",{className:"profile_info-checkbox"},i.a.createElement("span",{className:"profile_info-title profile_info-checkbox-title"},"Looking for a job: "),i.a.createElement(d.a,{component:v.a,style:{flexBasis:"10%"},type:"checkbox",name:"lookingForAJob"})),i.a.createElement("div",null,i.a.createElement("span",{className:"profile_info-title"},"My professional skills: "),i.a.createElement(d.a,{component:v.b,type:"text",name:"lookingForAJobDescription",validate:[b.b]})),i.a.createElement("div",{className:"profile_info-title"},"Contacts:"),Object.keys(a.contacts).map((function(e){return i.a.createElement(P,{key:e,contactsTitle:e,contactsValue:a.contacts[e]})})),i.a.createElement("div",{className:"someError"},n),i.a.createElement("div",null,i.a.createElement("button",{className:"btn btn-primary"},"save")))}));function x(e){var t=N(Object(l.useState)(!1),2),a=t[0],n=t[1];if(!e.profile)return i.a.createElement(S.a,null);var r=e.profile.photos.large?e.profile.photos.large:"https://avatars.mds.yandex.net/get-pdb/1732371/78b3b128-3813-4d35-8b87-b3c911581ca0/s1200?webp=false";return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"profile_info"},i.a.createElement("div",null,i.a.createElement("img",{src:r,alt:"",className:"profile_info-avatar"})),i.a.createElement("div",{className:"profile_information"},i.a.createElement("span",{className:"profile_info-name"},e.profile.fullName),i.a.createElement(T,{status:e.status,isOwner:e.isOwner,updateUserStatus:e.updateUserStatus}),a?i.a.createElement(_,{initialValues:e.profile,onSubmit:function(t){e.saveData(t).then((function(){n(!1)}))}}):i.a.createElement(w,{goToEditMode:function(){n(!0)},profile:e.profile,isOwner:e.isOwner}))),e.isOwner&&i.a.createElement("div",{className:"profile_info-addPhoto"},"Update avatar ",i.a.createElement("input",{type:"file",onChange:function(t){t.target.value.length&&e.savePhoto(t.target.files[0])}})))}function A(e){return i.a.createElement("div",{className:"profile-content"},i.a.createElement(x,{profile:e.profile,status:e.status,isOwner:e.isOwner,updateUserStatus:e.updateUserStatus,savePhoto:e.savePhoto,saveData:e.saveData}),i.a.createElement("div",{className:"profile_posts"},i.a.createElement(k,null)))}var U=a(231),D=function(e){Object(s.a)(a,e);var t=Object(o.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,a){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"refreshProfile",value:function(){var e=this.props.match.params.userId?this.props.match.params.userId:this.props.logUserId;this.props.getUserThunkCreator(e),this.props.getUserStatusThunkCreator(e)}},{key:"render",value:function(){return i.a.createElement(i.a.Fragment,null,this.props.profile?i.a.createElement(A,Object.assign({},this.props,{profile:this.props.profile,status:this.props.status,isOwner:!this.props.match.params.userId,savePhoto:this.props.savePhotoThunkCreator,saveData:this.props.saveDataThunkCreator,updateUserStatus:this.props.updateUserStatusThunkCreator})):i.a.createElement(S.a,null))}}]),a}(l.Component);t.default=Object(m.d)(Object(c.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,logUserId:e.auth.userId,isAuth:e.auth.isAuth}}),{getUserThunkCreator:y.c,getUserStatusThunkCreator:y.b,updateUserStatusThunkCreator:y.g,savePhotoThunkCreator:y.f,saveDataThunkCreator:y.e}),u.g,U.b,U.a)(D)}}]);
//# sourceMappingURL=4.d39a10cc.chunk.js.map